import{s as x,n as G,c as $,o as ee,r as te}from"../chunks/scheduler.Bmg8oFKD.js";import{S as le,i as re,e as k,t as j,s as S,j as q,b as g,n as C,c as I,d as p,f as B,a as T,o as m,g as P,l as b,h as D,m as A,u as se,q as Z,p as J,r as H}from"../chunks/index.r7FLvRHx.js";import{e as Y}from"../chunks/each.D6YF6ztN.js";import{p as oe}from"../chunks/stores.B1-CehQr.js";function z(s,e,t){const l=s.slice();return l[16]=e[t][0],l[17]=e[t][1],l[20]=e,l[21]=t,l}function K(s,e,t){const l=s.slice();return l[16]=e[t][0],l[17]=e[t][1],l}function ne(s){let e,t,l,r="Modificar Entrada",o,n,u,v,w,d,a,f="Guardar Cambios",c,_,i="Cancelar",y,M,R=Y(Object.entries(s[1])),h=[];for(let O=0;O<R.length;O+=1)h[O]=Q(z(s,R,O));return{c(){e=k("div"),t=k("div"),l=k("h2"),l.textContent=r,o=S(),n=k("form"),u=k("table"),v=k("tbody");for(let O=0;O<h.length;O+=1)h[O].c();w=S(),d=k("div"),a=k("button"),a.textContent=f,c=S(),_=k("button"),_.textContent=i,this.h()},l(O){e=g(O,"DIV",{class:!0});var N=C(e);t=g(N,"DIV",{class:!0});var E=C(t);l=g(E,"H2",{style:!0,"data-svelte-h":!0}),P(l)!=="svelte-gx6jw"&&(l.textContent=r),o=B(E),n=g(E,"FORM",{});var U=C(n);u=g(U,"TABLE",{class:!0});var L=C(u);v=g(L,"TBODY",{});var X=C(v);for(let F=0;F<h.length;F+=1)h[F].l(X);X.forEach(p),L.forEach(p),w=B(U),d=g(U,"DIV",{style:!0});var V=C(d);a=g(V,"BUTTON",{type:!0,style:!0,class:!0,"data-svelte-h":!0}),P(a)!=="svelte-1n62ulm"&&(a.textContent=f),c=B(V),_=g(V,"BUTTON",{style:!0,"data-svelte-h":!0}),P(_)!=="svelte-1i16qlq"&&(_.textContent=i),V.forEach(p),U.forEach(p),E.forEach(p),N.forEach(p),this.h()},h(){b(l,"color","#000000"),D(u,"class","svelte-mkw026"),D(a,"type","submit"),b(a,"text-align","center "),b(a,"background-color","#49b027"),b(a,"color","white"),b(a,"padding","10px 20px"),b(a,"border","none"),b(a,"border-radius","5px"),b(a,"cursor","pointer"),D(a,"class","svelte-mkw026"),b(_,"background-color","#ef5350"),b(_,"color","white"),b(_,"padding","10px 20px"),b(_,"border","none"),b(_,"border-radius","5px"),b(_,"cursor","pointer"),b(d,"margin-top","20px"),b(d,"display","flex"),b(d,"justify-content","space-between"),D(t,"class","card svelte-mkw026"),D(e,"class","container svelte-mkw026")},m(O,N){T(O,e,N),m(e,t),m(t,l),m(t,o),m(t,n),m(n,u),m(u,v);for(let E=0;E<h.length;E+=1)h[E]&&h[E].m(v,null);m(n,w),m(n,d),m(d,a),m(d,c),m(d,_),y||(M=[A(a,"submit",s[10]),A(_,"click",s[11]),A(n,"submit",se(s[6]))],y=!0)},p(O,N){if(N&2){R=Y(Object.entries(O[1]));let E;for(E=0;E<R.length;E+=1){const U=z(O,R,E);h[E]?h[E].p(U,N):(h[E]=Q(U),h[E].c(),h[E].m(v,null))}for(;E<h.length;E+=1)h[E].d(1);h.length=R.length}},d(O){O&&p(e),Z(h,O),y=!1,te(M)}}}function ae(s){let e,t;function l(n,u){return u&2&&(e=null),e==null&&(e=Object.keys(n[1]).length>0),e?fe:ue}let r=l(s,-1),o=r(s);return{c(){o.c(),t=q()},l(n){o.l(n),t=q()},m(n,u){o.m(n,u),T(n,t,u)},p(n,u){r===(r=l(n,u))&&o?o.p(n,u):(o.d(1),o=r(n),o&&(o.c(),o.m(t.parentNode,t)))},d(n){n&&p(t),o.d(n)}}}function ie(s){let e,t,l;function r(){s[9].call(e,s[16])}return{c(){e=k("input"),this.h()},l(o){e=g(o,"INPUT",{type:!0,style:!0,class:!0}),this.h()},h(){D(e,"type","text"),b(e,"background-color","#d6ffc9"),b(e,"border","1px solid #9c27b0"),b(e,"color","#000000"),D(e,"class","svelte-mkw026")},m(o,n){T(o,e,n),H(e,s[1][s[16]]),t||(l=A(e,"input",r),t=!0)},p(o,n){s=o,n&2&&e.value!==s[1][s[16]]&&H(e,s[1][s[16]])},d(o){o&&p(e),t=!1,l()}}}function ce(s){let e,t,l;function r(){s[8].call(e,s[16])}return{c(){e=k("input"),this.h()},l(o){e=g(o,"INPUT",{type:!0,style:!0,class:!0}),this.h()},h(){D(e,"type","text"),e.readOnly=!0,b(e,"background-color","#d6ffc9"),b(e,"border","1px solid #9c27b0"),b(e,"color","#000000"),D(e,"class","svelte-mkw026")},m(o,n){T(o,e,n),H(e,s[1][s[16]]),t||(l=A(e,"input",r),t=!0)},p(o,n){s=o,n&2&&e.value!==s[1][s[16]]&&H(e,s[1][s[16]])},d(o){o&&p(e),t=!1,l()}}}function Q(s){let e,t,l=s[16]+"",r,o,n,u,v;function w(f,c){return f[16]==="geo"||f[16]==="time_period"?ce:ie}let d=w(s),a=d(s);return{c(){e=k("tr"),t=k("td"),r=j(l),o=j(":"),n=S(),u=k("td"),a.c(),v=S(),this.h()},l(f){e=g(f,"TR",{});var c=C(e);t=g(c,"TD",{class:!0});var _=C(t);r=I(_,l),o=I(_,":"),_.forEach(p),n=B(c),u=g(c,"TD",{class:!0});var i=C(u);a.l(i),i.forEach(p),v=B(c),c.forEach(p),this.h()},h(){D(t,"class","attribute svelte-mkw026"),D(u,"class","value svelte-mkw026")},m(f,c){T(f,e,c),m(e,t),m(t,r),m(t,o),m(e,n),m(e,u),a.m(u,null),m(e,v)},p(f,c){c&2&&l!==(l=f[16]+"")&&J(r,l),d===(d=w(f))&&a?a.p(f,c):(a.d(1),a=d(f),a&&(a.c(),a.m(u,null)))},d(f){f&&p(e),a.d()}}}function ue(s){let e,t="No hay datos disponibles";return{c(){e=k("p"),e.textContent=t,this.h()},l(l){e=g(l,"P",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-167bv6c"&&(e.textContent=t),this.h()},h(){D(e,"class","container svelte-mkw026")},m(l,r){T(l,e,r)},p:G,d(l){l&&p(e)}}}function fe(s){let e,t,l,r,o,n,u,v="Modificar Entrada",w,d,a=Y(Object.entries(s[1])),f=[];for(let c=0;c<a.length;c+=1)f[c]=W(K(s,a,c));return{c(){e=k("div"),t=k("div"),l=k("table"),r=k("tbody");for(let c=0;c<f.length;c+=1)f[c].c();o=S(),n=k("div"),u=k("button"),u.textContent=v,this.h()},l(c){e=g(c,"DIV",{class:!0});var _=C(e);t=g(_,"DIV",{class:!0});var i=C(t);l=g(i,"TABLE",{class:!0});var y=C(l);r=g(y,"TBODY",{});var M=C(r);for(let h=0;h<f.length;h+=1)f[h].l(M);M.forEach(p),y.forEach(p),o=B(i),n=g(i,"DIV",{style:!0});var R=C(n);u=g(R,"BUTTON",{style:!0,"data-svelte-h":!0}),P(u)!=="svelte-1uo87go"&&(u.textContent=v),R.forEach(p),i.forEach(p),_.forEach(p),this.h()},h(){D(l,"class","svelte-mkw026"),b(u,"background-color","#8bc34a"),b(u,"color","white"),b(u,"padding","10px 20px"),b(u,"border","none"),b(u,"border-radius","5px"),b(u,"cursor","pointer"),b(n,"text-align","center "),b(n,"margin-top","20px"),b(n,"display","flex"),b(n,"justify-content","space-between"),D(t,"class","card svelte-mkw026"),D(e,"class","container svelte-mkw026")},m(c,_){T(c,e,_),m(e,t),m(t,l),m(l,r);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m(r,null);m(t,o),m(t,n),m(n,u),w||(d=A(u,"click",s[7]),w=!0)},p(c,_){if(_&2){a=Y(Object.entries(c[1]));let i;for(i=0;i<a.length;i+=1){const y=K(c,a,i);f[i]?f[i].p(y,_):(f[i]=W(y),f[i].c(),f[i].m(r,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=a.length}},d(c){c&&p(e),Z(f,c),w=!1,d()}}}function _e(s){let e=s[17]+"",t;return{c(){t=j(e)},l(l){t=I(l,e)},m(l,r){T(l,t,r)},p(l,r){r&2&&e!==(e=l[17]+"")&&J(t,e)},d(l){l&&p(t)}}}function de(s){let e=JSON.stringify(s[17])+"",t;return{c(){t=j(e)},l(l){t=I(l,e)},m(l,r){T(l,t,r)},p(l,r){r&2&&e!==(e=JSON.stringify(l[17])+"")&&J(t,e)},d(l){l&&p(t)}}}function W(s){let e,t,l=s[16]+"",r,o,n,u,v;function w(f,c){return typeof f[17]=="object"?de:_e}let d=w(s),a=d(s);return{c(){e=k("tr"),t=k("td"),r=j(l),o=j(":"),n=S(),u=k("td"),a.c(),v=S(),this.h()},l(f){e=g(f,"TR",{});var c=C(e);t=g(c,"TD",{class:!0});var _=C(t);r=I(_,l),o=I(_,":"),_.forEach(p),n=B(c),u=g(c,"TD",{class:!0});var i=C(u);a.l(i),i.forEach(p),v=B(c),c.forEach(p),this.h()},h(){D(t,"class","attribute svelte-mkw026"),D(u,"class","value svelte-mkw026")},m(f,c){T(f,e,c),m(e,t),m(t,r),m(t,o),m(e,n),m(e,u),a.m(u,null),m(e,v)},p(f,c){c&2&&l!==(l=f[16]+"")&&J(r,l),d===(d=w(f))&&a?a.p(f,c):(a.d(1),a=d(f),a&&(a.c(),a.m(u,null)))},d(f){f&&p(e),a.d()}}}function pe(s){let e,t,l;return{c(){e=k("hr"),t=j(`
	EXITO: `),l=j(s[3])},l(r){e=g(r,"HR",{}),t=I(r,`
	EXITO: `),l=I(r,s[3])},m(r,o){T(r,e,o),T(r,t,o),T(r,l,o)},p(r,o){o&8&&J(l,r[3])},d(r){r&&(p(e),p(t),p(l))}}}function he(s){let e,t,l;return{c(){e=k("hr"),t=j(`
	ERROR: `),l=j(s[2])},l(r){e=g(r,"HR",{}),t=I(r,`
	ERROR: `),l=I(r,s[2])},m(r,o){T(r,e,o),T(r,t,o),T(r,l,o)},p(r,o){o&4&&J(l,r[2])},d(r){r&&(p(e),p(t),p(l))}}}function be(s){let e,t,l,r,o,n,u,v;function w(i,y){return i[0]?ne:ae}let d=w(s),a=d(s);function f(i,y){if(i[2]!="")return he;if(i[3]!="")return pe}let c=f(s),_=c&&c(s);return{c(){e=k("h2"),t=j("Ubicación: "),l=j(s[4]),r=j(" Año:"),o=j(s[5]),n=S(),a.c(),u=S(),_&&_.c(),v=q()},l(i){e=g(i,"H2",{});var y=C(e);t=I(y,"Ubicación: "),l=I(y,s[4]),r=I(y," Año:"),o=I(y,s[5]),y.forEach(p),n=B(i),a.l(i),u=B(i),_&&_.l(i),v=q()},m(i,y){T(i,e,y),m(e,t),m(e,l),m(e,r),m(e,o),T(i,n,y),a.m(i,y),T(i,u,y),_&&_.m(i,y),T(i,v,y)},p(i,[y]){d===(d=w(i))&&a?a.p(i,y):(a.d(1),a=d(i),a&&(a.c(),a.m(u.parentNode,u))),c===(c=f(i))&&_?_.p(i,y):(_&&_.d(1),_=c&&c(i),_&&(_.c(),_.m(v.parentNode,v)))},i:G,o:G,d(i){i&&(p(e),p(n),p(u),p(v)),a.d(i),_&&_.d(i)}}}function me(s,e,t){let l;$(s,oe,h=>t(14,l=h));let r="/api/v2/cars-by-motor",o=!1,n={},u={},v=l.params.geo,w=l.params.time_period,d="",a="";ee(()=>{f(v,w)});async function f(h,O){try{let N=await fetch(r+"/"+h+"/"+O,{method:"GET"});if(N.status==200){let E=await N.json();t(1,n=E)}else N.status==400?(t(2,d="Error en la estructura de los datos"),alert(d)):N.status==409?(t(2,d="Ya existe una entrada con ese país y año"),alert(d)):N.status==404&&(t(2,d="Dato no encontrado"),alert(d));console.log("Datos Originales: "+JSON.stringify(n))}catch(N){t(2,d=N)}}async function c(){try{let h=await fetch(r+"/"+v+"/"+w,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});h.status==200?(u=JSON.stringify(n),t(0,o=!1),t(3,a="Dato modificado correctamente"),await f(v,w)):h.status==400?t(2,d="No se puede cambiar pais ni año"):h.status==409?t(2,d="Ya existe una entrada con ese país y año"):h.status==404&&t(2,d="Dato no encontrado"),console.log("Datos Modificados: "+JSON.stringify(u))}catch(h){t(2,d=h)}}const _=()=>{t(0,o=!0)};function i(h){n[h]=this.value,t(1,n)}function y(h){n[h]=this.value,t(1,n)}return[o,n,d,a,v,w,c,_,i,y,()=>{t(0,o=!1),c()},()=>{t(0,o=!1)}]}class Ee extends le{constructor(e){super(),re(this,e,me,be,x,{})}}export{Ee as component};
