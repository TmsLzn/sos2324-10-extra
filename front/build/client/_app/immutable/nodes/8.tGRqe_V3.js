import{s as L,n as x,c as X,o as z,r as K}from"../chunks/scheduler.Bmg8oFKD.js";import{S as Q,i as W,e as E,t as D,s as I,j as A,b as T,n as O,c as N,d as p,f as S,l as u,h as j,a as w,o as y,g as J,m as B,u as Z,q,p as P,r as M}from"../chunks/index.r7FLvRHx.js";import{e as U}from"../chunks/each.D6YF6ztN.js";import{p as $}from"../chunks/stores.B1-CehQr.js";function F(s,e,t){const l=s.slice();return l[15]=e[t][0],l[16]=e[t][1],l[19]=e,l[20]=t,l}function V(s,e,t){const l=s.slice();return l[15]=e[t][0],l[16]=e[t][1],l}function ee(s){let e,t,l,a,o,r,i="Guardar Cambios",v,b,_="Cancelar",c,f,n=U(Object.entries(s[0])),m=[];for(let h=0;h<n.length;h+=1)m[h]=Y(F(s,n,h));return{c(){e=E("form"),t=E("table"),l=E("tbody");for(let h=0;h<m.length;h+=1)m[h].c();a=I(),o=E("div"),r=E("button"),r.textContent=i,v=I(),b=E("button"),b.textContent=_,this.h()},l(h){e=T(h,"FORM",{});var k=O(e);t=T(k,"TABLE",{class:!0});var d=O(t);l=T(d,"TBODY",{});var g=O(l);for(let C=0;C<m.length;C+=1)m[C].l(g);g.forEach(p),d.forEach(p),a=S(k),o=T(k,"DIV",{style:!0});var R=O(o);r=T(R,"BUTTON",{type:!0,style:!0,"data-svelte-h":!0}),J(r)!=="svelte-8t9mt0"&&(r.textContent=i),v=S(R),b=T(R,"BUTTON",{style:!0,"data-svelte-h":!0}),J(b)!=="svelte-2jz7kl"&&(b.textContent=_),R.forEach(p),k.forEach(p),this.h()},h(){j(t,"class","svelte-gw6gy1"),j(r,"type","submit"),u(r,"background-color","#4CAF50"),u(r,"color","white"),u(r,"padding","10px 20px"),u(r,"border","none"),u(r,"border-radius","5px"),u(r,"cursor","pointer"),u(b,"background-color","#f44336"),u(b,"color","white"),u(b,"padding","10px 20px"),u(b,"border","none"),u(b,"border-radius","5px"),u(b,"cursor","pointer"),u(b,"margin-left","20px"),u(o,"text-align","center"),u(o,"margin-top","20px")},m(h,k){w(h,e,k),y(e,t),y(t,l);for(let d=0;d<m.length;d+=1)m[d]&&m[d].m(l,null);y(e,a),y(e,o),y(o,r),y(o,v),y(o,b),c||(f=[B(b,"click",s[10]),B(e,"submit",Z(s[6]))],c=!0)},p(h,k){if(k&1){n=U(Object.entries(h[0]));let d;for(d=0;d<n.length;d+=1){const g=F(h,n,d);m[d]?m[d].p(g,k):(m[d]=Y(g),m[d].c(),m[d].m(l,null))}for(;d<m.length;d+=1)m[d].d(1);m.length=n.length}},d(h){h&&p(e),q(m,h),c=!1,K(f)}}}function te(s){let e,t;function l(r,i){return i&1&&(e=null),e==null&&(e=Object.keys(r[0]).length>0),e?se:oe}let a=l(s,-1),o=a(s);return{c(){o.c(),t=A()},l(r){o.l(r),t=A()},m(r,i){o.m(r,i),w(r,t,i)},p(r,i){a===(a=l(r,i))&&o?o.p(r,i):(o.d(1),o=a(r),o&&(o.c(),o.m(t.parentNode,t)))},d(r){r&&p(t),o.d(r)}}}function le(s){let e,t,l;function a(){s[9].call(e,s[15])}return{c(){e=E("input"),this.h()},l(o){e=T(o,"INPUT",{type:!0,style:!0,class:!0}),this.h()},h(){j(e,"type","text"),u(e,"background-color","#f2f2f2"),u(e,"border","1px solid #ddd"),u(e,"color","#333"),u(e,"padding","8px"),u(e,"border-radius","4px"),u(e,"width","100%"),j(e,"class","svelte-gw6gy1")},m(o,r){w(o,e,r),M(e,s[0][s[15]]),t||(l=B(e,"input",a),t=!0)},p(o,r){s=o,r&1&&e.value!==s[0][s[15]]&&M(e,s[0][s[15]])},d(o){o&&p(e),t=!1,l()}}}function re(s){let e,t,l;function a(){s[8].call(e,s[15])}return{c(){e=E("input"),this.h()},l(o){e=T(o,"INPUT",{type:!0,style:!0,class:!0}),this.h()},h(){j(e,"type","text"),e.readOnly=!0,u(e,"background-color","#f2f2f2"),u(e,"border","1px solid #ddd"),u(e,"color","#333"),u(e,"padding","8px"),u(e,"border-radius","4px"),u(e,"width","100%"),j(e,"class","svelte-gw6gy1")},m(o,r){w(o,e,r),M(e,s[0][s[15]]),t||(l=B(e,"input",a),t=!0)},p(o,r){s=o,r&1&&e.value!==s[0][s[15]]&&M(e,s[0][s[15]])},d(o){o&&p(e),t=!1,l()}}}function Y(s){let e,t,l=s[15]+"",a,o,r,i,v;function b(f,n){return f[15]==="geo"||f[15]==="time_period"?re:le}let _=b(s),c=_(s);return{c(){e=E("tr"),t=E("td"),a=D(l),o=D(":"),r=I(),i=E("td"),c.c(),v=I(),this.h()},l(f){e=T(f,"TR",{});var n=O(e);t=T(n,"TD",{class:!0});var m=O(t);a=N(m,l),o=N(m,":"),m.forEach(p),r=S(n),i=T(n,"TD",{class:!0});var h=O(i);c.l(h),h.forEach(p),v=S(n),n.forEach(p),this.h()},h(){j(t,"class","attribute svelte-gw6gy1"),j(i,"class","value svelte-gw6gy1")},m(f,n){w(f,e,n),y(e,t),y(t,a),y(t,o),y(e,r),y(e,i),c.m(i,null),y(e,v)},p(f,n){n&1&&l!==(l=f[15]+"")&&P(a,l),_===(_=b(f))&&c?c.p(f,n):(c.d(1),c=_(f),c&&(c.c(),c.m(i,null)))},d(f){f&&p(e),c.d()}}}function oe(s){let e,t="No hay datos disponibles";return{c(){e=E("p"),e.textContent=t,this.h()},l(l){e=T(l,"P",{style:!0,"data-svelte-h":!0}),J(e)!=="svelte-r6nnnr"&&(e.textContent=t),this.h()},h(){u(e,"text-align","center")},m(l,a){w(l,e,a)},p:x,d(l){l&&p(e)}}}function se(s){let e,t,l,a,o,r="Modificar Entrada",i,v,b=U(Object.entries(s[0])),_=[];for(let c=0;c<b.length;c+=1)_[c]=H(V(s,b,c));return{c(){e=E("table"),t=E("tbody");for(let c=0;c<_.length;c+=1)_[c].c();l=I(),a=E("div"),o=E("button"),o.textContent=r,this.h()},l(c){e=T(c,"TABLE",{class:!0});var f=O(e);t=T(f,"TBODY",{});var n=O(t);for(let h=0;h<_.length;h+=1)_[h].l(n);n.forEach(p),f.forEach(p),l=S(c),a=T(c,"DIV",{style:!0});var m=O(a);o=T(m,"BUTTON",{style:!0,"data-svelte-h":!0}),J(o)!=="svelte-jwanwk"&&(o.textContent=r),m.forEach(p),this.h()},h(){j(e,"class","svelte-gw6gy1"),u(o,"background-color","#4CAF50"),u(o,"color","white"),u(o,"padding","10px 20px"),u(o,"border","none"),u(o,"border-radius","5px"),u(o,"cursor","pointer"),u(a,"text-align","center"),u(a,"margin-top","20px")},m(c,f){w(c,e,f),y(e,t);for(let n=0;n<_.length;n+=1)_[n]&&_[n].m(t,null);w(c,l,f),w(c,a,f),y(a,o),i||(v=B(o,"click",s[7]),i=!0)},p(c,f){if(f&1){b=U(Object.entries(c[0]));let n;for(n=0;n<b.length;n+=1){const m=V(c,b,n);_[n]?_[n].p(m,f):(_[n]=H(m),_[n].c(),_[n].m(t,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=b.length}},d(c){c&&(p(e),p(l),p(a)),q(_,c),i=!1,v()}}}function ne(s){let e=s[16]+"",t;return{c(){t=D(e)},l(l){t=N(l,e)},m(l,a){w(l,t,a)},p(l,a){a&1&&e!==(e=l[16]+"")&&P(t,e)},d(l){l&&p(t)}}}function ie(s){let e=JSON.stringify(s[16])+"",t;return{c(){t=D(e)},l(l){t=N(l,e)},m(l,a){w(l,t,a)},p(l,a){a&1&&e!==(e=JSON.stringify(l[16])+"")&&P(t,e)},d(l){l&&p(t)}}}function H(s){let e,t,l=s[15]+"",a,o,r,i,v;function b(f,n){return typeof f[16]=="object"?ie:ne}let _=b(s),c=_(s);return{c(){e=E("tr"),t=E("td"),a=D(l),o=D(":"),r=I(),i=E("td"),c.c(),v=I(),this.h()},l(f){e=T(f,"TR",{});var n=O(e);t=T(n,"TD",{class:!0});var m=O(t);a=N(m,l),o=N(m,":"),m.forEach(p),r=S(n),i=T(n,"TD",{class:!0});var h=O(i);c.l(h),h.forEach(p),v=S(n),n.forEach(p),this.h()},h(){j(t,"class","attribute svelte-gw6gy1"),j(i,"class","value svelte-gw6gy1")},m(f,n){w(f,e,n),y(e,t),y(t,a),y(t,o),y(e,r),y(e,i),c.m(i,null),y(e,v)},p(f,n){n&1&&l!==(l=f[15]+"")&&P(a,l),_===(_=b(f))&&c?c.p(f,n):(c.d(1),c=_(f),c&&(c.c(),c.m(i,null)))},d(f){f&&p(e),c.d()}}}function ae(s){let e,t,l,a,o;return{c(){e=E("hr"),t=I(),l=E("p"),a=D("EXITO: "),o=D(s[2]),this.h()},l(r){e=T(r,"HR",{style:!0}),t=S(r),l=T(r,"P",{style:!0});var i=O(l);a=N(i,"EXITO: "),o=N(i,s[2]),i.forEach(p),this.h()},h(){u(e,"border-color","#673ab7"),u(e,"margin-top","20px"),u(e,"margin-bottom","20px"),u(l,"color","green"),u(l,"text-align","center")},m(r,i){w(r,e,i),w(r,t,i),w(r,l,i),y(l,a),y(l,o)},p(r,i){i&4&&P(o,r[2])},d(r){r&&(p(e),p(t),p(l))}}}function ce(s){let e,t,l,a,o;return{c(){e=E("hr"),t=I(),l=E("p"),a=D("ERROR: "),o=D(s[1]),this.h()},l(r){e=T(r,"HR",{style:!0}),t=S(r),l=T(r,"P",{style:!0});var i=O(l);a=N(i,"ERROR: "),o=N(i,s[1]),i.forEach(p),this.h()},h(){u(e,"border-color","#673ab7"),u(e,"margin-top","20px"),u(e,"margin-bottom","20px"),u(l,"color","red"),u(l,"text-align","center")},m(r,i){w(r,e,i),w(r,t,i),w(r,l,i),y(l,a),y(l,o)},p(r,i){i&2&&P(o,r[1])},d(r){r&&(p(e),p(t),p(l))}}}function ue(s){let e,t,l,a,o,r,i,v,b,_;function c(d,g){return d[3]?ee:te}let f=c(s),n=f(s);function m(d,g){if(d[1]!="")return ce;if(d[2]!="")return ae}let h=m(s),k=h&&h(s);return{c(){e=E("div"),t=E("div"),l=E("h2"),a=D("Detalles en "),o=D(s[4]),r=D(":"),i=D(s[5]),v=I(),n.c(),b=I(),k&&k.c(),_=A(),this.h()},l(d){e=T(d,"DIV",{class:!0});var g=O(e);t=T(g,"DIV",{class:!0});var R=O(t);l=T(R,"H2",{style:!0});var C=O(l);a=N(C,"Detalles en "),o=N(C,s[4]),r=N(C,":"),i=N(C,s[5]),C.forEach(p),v=S(R),n.l(R),R.forEach(p),g.forEach(p),b=S(d),k&&k.l(d),_=A(),this.h()},h(){u(l,"color","#673ab7"),u(l,"text-align","center"),j(t,"class","card svelte-gw6gy1"),j(e,"class","container svelte-gw6gy1")},m(d,g){w(d,e,g),y(e,t),y(t,l),y(l,a),y(l,o),y(l,r),y(l,i),y(t,v),n.m(t,null),w(d,b,g),k&&k.m(d,g),w(d,_,g)},p(d,[g]){f===(f=c(d))&&n?n.p(d,g):(n.d(1),n=f(d),n&&(n.c(),n.m(t,null))),h===(h=m(d))&&k?k.p(d,g):(k&&k.d(1),k=h&&h(d),k&&(k.c(),k.m(_.parentNode,_)))},i:x,o:x,d(d){d&&(p(e),p(b),p(_)),n.d(),k&&k.d(d)}}}function fe(s,e,t){let l;X(s,$,g=>t(13,l=g));let a="/api/v2/tourisms-per-age",o=l.params.geo,r=l.params.time_period,i={},v="",b="",_=!1,c={};z(()=>{f(o,r)});async function f(g,R){try{let C=await fetch(a+"/"+g+"/"+R,{method:"GET"});if(C.status==200){let G=await C.json();t(0,i=G),t(2,b="Dato leido correctamente")}else C.status==400?t(1,v="Error en la estructura de los datos"):C.status==409?t(1,v="Ya existe una entrada con ese país y año"):C.status==404&&t(1,v="Dato no encontrado");console.log("Datos Originales: "+JSON.stringify(i))}catch(C){t(1,v=C)}}async function n(){try{let g=await fetch(a+"/"+o+"/"+r,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});g.status==200?(c=JSON.stringify(i),t(3,_=!1),t(2,b="Dato modificado correctamente")):g.status==400?t(1,v="No se puede cambiar pais ni año"):g.status==409?t(1,v="Ya existe una entrada con ese país y año"):g.status==404&&t(1,v="Dato no encontrado"),console.log("Datos Modificados: "+JSON.stringify(c))}catch(g){t(1,v=g)}}const m=()=>{t(3,_=!0)};function h(g){i[g]=this.value,t(0,i)}function k(g){i[g]=this.value,t(0,i)}return[i,v,b,_,o,r,n,m,h,k,()=>{t(3,_=!1)}]}class be extends Q{constructor(e){super(),W(this,e,fe,ue,L,{})}}export{be as component};
